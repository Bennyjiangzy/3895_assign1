<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width,minimum-scale=1">
		<title>Dashboard</title>
        <!-- the form awesome library is used to add icons to our form -->
		<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.7.1/css/all.css">
		<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" integrity="sha384-JcKb8q3iqJ61gNV9KGb8thSsNjpSL0n8PARn9HuZOnIxN0hoP+VmmDGMN5t9UJ0Z" crossorigin="anonymous">
        <!-- include the stylesheet file -->
        <link rel="stylesheet" href="../styles.css">
	</head>
	<body>
		<div class="row mt-5">
			<div class="col-md-6 m-auto text-center">
				<div class="Dashboard">
					<h1>Dashboard</h1>
					<form action="" method="">
						<label for="studentID">
							<!-- font awesome icon -->
							<i class="fas fa-user"></i>
						</label>
						<input type="text" name="studentID" placeholder="studentID" id="studentID" required>
						<label for="name">
							<i class="fas fa-lock"></i>
						</label>
						<input type="name" name="name" placeholder="name" id="name" required>
						<label for="grade">
							<i class="fas fa-notebook"></i>
						</label>
						<input type="grade" name="grade" placeholder="grade" id="grade" required>
						<input id="submit_btn" type="submit" value="Enter" onclick=alert()>
						<alert></alert>
					</form>
				</div>
			</div>
		</div>
		
	</body>
	<script>
		let submitLoginBtn = document.getElementById("submit_btn");
		submitLoginBtn.addEventListener('click', login);

		var xhr = null;

		getXmlHttpRequestObject = function () {
			if (!xhr) {
				// Create a new XMLHttpRequest object 
				xhr = new XMLHttpRequest();
			}
			return xhr;
		};

		function login() {
			studentIDToSend = document.getElementById('studentID').value;
			nameToSend = document.getElementById('name').value;
			gradeToSend = document.getElementById('grade').value;

			xhr = getXmlHttpRequestObject();
			dataToSend = {"studentID": studentIDToSend,
						  "name": nameToSend,
						  "grade": Number(gradeToSend)}

			// asynchronous requests
			xhr.open("POST", "http://localhost:8090/grade", true);
			xhr.setRequestHeader("Content-Type", "application/json;charset=UTF-8");
			// Send the request over the network
			xhr.send(JSON.stringify(dataToSend));
    	}

		function alert () {
			alert("The form has submitted")
		}
		
	</script>
</html>